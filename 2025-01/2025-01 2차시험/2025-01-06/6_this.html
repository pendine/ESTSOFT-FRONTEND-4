<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  this(self) : 자기자신을 가리키는 참조변수
   -> 인스턴스를 구분하는 키워드(변수)
   - 객체지향 프로그래밍에서는 
     인스턴스 별로 구분하여 값들을 따로따로 저장할 수 있어야한다.
     (올바른 객체 선택이 가능)

  <script>
    function test(name, age){
      this.name = name;
      this.age = age;
    }
// 아니 함수인데 왜 new 쓰니까 객체취급이지?
    let a = new test("test1" , 1);
    let b = new test("test2" , 2);

    console.log(a.name + " "  +a.age);
    console.log(b.name + " "  +b.age);
    
    let arr = [a,b];
    arr.forEach(ele => {
      console.log(ele.name + " "  + ele.age);
    });

    let user1 = {
      name : "누렁소",
      hello2(){
        console.log("내장 함수 이름 : "+name);
      }
    }
    let user2 = {
      name : "깜둥소"
    }

    user1.hello2();
    // 객체에 메서드 삽입도 되네 진짜 괴랄하네
    // user1.func = hello();
    user1.func = hello;
    // user1.func.hello();
    // user2.func = hello();
    user2.func = hello;
    // user2.func.hello();

    function hello(){
      // this 키워드는 연관된 객체의 
      alert("안녕 귀여운 : " +this.name);
    }

    user1.func();
    user1.hello2();
    user2.func();

    user1.func = hello2; //user1의 func에 hello2를 추가하는게 아니라 덧씀. += 불가
    user2.func = hello2;

    function hello2(){
      alert("이름 : " +this.name);
    }
    
    user1.func();
    user2.func();

    //자바스크립트는 this쓰기가 까다로움
    // 이유 : 기본적으로 this는 최상위를 가리킴

    // 다른언어는 this를 사용할때 항상 객체가 필요한데
    // JS에서는 자유롭지만 무규칙스러움.
    // 쓰기 어렵다면 특정한 상황에서만 사용하기를 권장
    //   - 객체, 클래스에 접근할때 빼고 굳이?/ 이벤트 객체
    console.log(this); // window 객체를 리턴함
    
  </script>
</body>
</html>