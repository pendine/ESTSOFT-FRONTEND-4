<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<!--   
  개발자, 사용자의 입장에서 이벤트란?
  - 컴퓨터에 입력하는 모든 입력값 (마우스 움직임, 스크롤이동, 키보드입력) 

이벤트의 구동 원리
- 단일 스레드에서 이벤트 드리븐 방식으로 동작
- 이벤트 처리는 1:1로 하나씩 처리함

이벤트의 종류
https://developer.mozilla.org/en-US/docs/Web/Events

ui 이벤트
- load : 로딩완료
- unload : 언로드 상태 새로운페이지 요청
- error : 요청한 내용이 없거나 브라우저가 js에러를 만난경우
- resize : 브라우저 창의 크기를 조절 했을때
- scroll : 사용자가 페이지를 스크롤 할 때
- select : 텍스트를 선택 했을때

focus
 - focus / focusin : 요소가 포커스를 얻을때
 - blur / focusout : 요소가 포커스를 잃을때

form
 - input : input요소나 textarea 요소값이 변경돼었을때
 - change : select box, checkbox, radios button 의 상태 변경시

clipboard
 - cut : 컨텐츠 잘라내기
 - copy : 컨텐츠 복사
 - paste : 컨텐츠 붙여넣기

위와같은 이벤트들을 통해 이벤트 발생시 실행할
이벤트 핸들러 함수를 할당해야함

이벤트 핸들러 종류
1. 인라인 이벤트 핸들러 
 - html 요소에 다이렉트로 이벤트를 부여
 - 사장되었다 react, vue의 유행으로
   CBD개발방식이 유행하며 다시 사용됨
2. 이벤트 핸들러 프로퍼티
 - 프로퍼티 자체로 이벤트를 적용시키는 방법
3. addEventListener
 - 이벤트 대상 요소.addEventListener( '이벤트타입', '콜백함수',['캡처링여부'])
 - 하나의 이벤트 여러개의 이벤트 핸들러를 운영할 수 있음.
 - 캡처링, 버블링 지원( 캡처링여부에 true 면 캡처링, false는 버블링 : defualt는 버블링)
 - html, 그외 여러가지 DOM 요소에 대해서 동작 가능
 - 캡처링과 버블링은 이벤트 전파 방법이니 상황에 맞게 잘 쓸수있도록 유도.
   (포커스는 버블링되지 않음)
 - 조금 불편할 수 있어도 버블링과 캡처링은 꼭 필요한게 아니면 차단하진 말걸
   (전파를 강제 중단 시킬경우 dead zone 발생)
 - 이벤트 버블링과 캡처링때문에 불편함을 겪는다면 
   이벤트 객체를 잘 활용하는 방안으로 가야함

이벤트의 버블링과 캡처링(이벤트의 흐름)
 - 전파 방향에 따라 버블링과 캡처링으로 구분

버블링 : 자식요소에서 발생한 이벤트가 부모 이벤트로 전파
  - window로부터 출발해서 자식요소까지 도달

캡처링 : 자속요소에서 발생한 이벤트가 부모 요소부터 시작해서
        이벤트를 발생시킨 자식요소까지 도달하는것

이벤트는 기본적으로 둘중 하나만 발생하는 것이 아니라
캡처링으로 시작하여 버블링을 끝나는 구조.


-> 캡처링과 버블링으를 통해서 이벤트가 전파됌
 예) P태그 안에 선언된 버튼을 클릭할때
 버튼과 P태그가 addEventListener를 적용시켜놓으면
 버튼을 클릭하더라도 버블링과 캡처링을 통해
 p태그에 적용된 클릭이벤트가 동작함


이벤트 전파의 3단계
먼저, DOM에서 이벤트 전파는 다음 3단계로 이루어집니다:
1. 캡처링 단계
2. 타깃 단계
3. 버블링 단계
버블링 (Bubbling)
버블링은 가장 흔히 사용되는 이벤트 전파 방식입니다.
정의: 이벤트가 발생한 요소에서 시작하여 DOM 트리를 따라 위로 올라가며 부모 요소들로 이벤트가 전파되는 현상입니다
방향: 자식 요소 → 부모 요소 → 조상 요소 (아래에서 위로)
예시: <div> 안의 <p> 태그를 클릭하면, <p> → <div> → <body> → <html> → document 순으로 이벤트가 전파됩니다

캡처링 (Capturing)
캡처링은 버블링의 반대 방향으로 이벤트가 전파됩니다.
정의: 이벤트가 최상위 요소에서 시작하여 실제 이벤트가 발생한 요소까지 내려가는 현상입니다25.
방향: 조상 요소 → 부모 요소 → 자식 요소 (위에서 아래로)
사용 방법: addEventListener의 세 번째 인자로 {capture: true} 또는 true를 전달하면 캡처링 단계에서 이벤트를 잡을 수 있습니다

주요 차이점
방향: 버블링은 아래에서 위로, 캡처링은 위에서 아래로 이벤트가 전파됩니다
기본 동작: 브라우저는 기본적으로 버블링을 사용합니다
사용 빈도: 버블링이 캡처링보다 더 자주 사용됩니다
이벤트 전파 제어
event.stopPropagation(): 이벤트의 추가적인 전파를 막습니다
event.stopImmediatePropagation(): 현재 이벤트의 전파를 즉시 중단하고, 같은 요소의 다른 이벤트 핸들러도 실행되지 않도록 합니다

활용
이벤트 위임: 부모 요소에 이벤트 리스너를 달아 자식 요소들의 이벤트를 효율적으로 관리할 수 있습니다
성능 최적화: 많은 요소에 개별적으로 이벤트를 붙이는 대신, 상위 요소에 하나의 이벤트만 붙여 처리할 수 있습니다
캡처링과 버블링을 이해하면 복잡한 DOM 구조에서 이벤트를 효과적으로 다룰 수 있으며, 이벤트 위임 등의 고급 기법을 활용할 수 있습니다.


이벤트 객체
 - 이벤트를 발생시킨 요소와 발생한 이벤트에 대한 정보를 제공하는 객체
 - 이벤트 발생시 이벤트 객체는 동적으로 생성, 
   이벤트를 처리할 수 있는 이벤트 핸들러에 파라미터값으로 전달
 - 이벤트 핸들러나 리스너에 암묵적으로 전달되는 객체
   (하지만 사용을 위해서는 객체 자체를 명시적으로 선언해야함 / 첫번째 파라미터로 선언)
   대체로 e, evt, ev, event 라고 표현함

이벤트 프로퍼티
  - target : 선택한 요소를 정확하게 집어냄
             실제 이벤트가 발생한 요소를 가리킬때 사용
             (체감상 내가 선택한 요소로 느껴짐)
  - currentTarget : 이벤트를 핸들링하는 현재요소  
                    (핸들러가 실질적으로 할당된 요소)
  - type : 이벤트의 종류를 출력
  - cancelable : 요소의 기본동작 취소 여부
  - eventPhase : 이벤트 흐릉상에서 어느단계에 있는가를 확인하는 프로퍼티


 -->

  
  <button class="btn">알림창</button>
  <button class="btn2" onclick="test()">알림창</button>
  <button class="btn3">이벤트 핸들러 프로퍼티</button>
  <input type="text" class="test">

  <br />
  <label for="usrName">
    User Name
    <input type="text" class="userName" id="usrName">
  </label>
  <p class="description"></p>
  <script src = "1_event.js"></script>
</body>
</html>